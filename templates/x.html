<div id="page-index">
  <div class="row plain-element">
    <SidebarComponent/>
    <div class="col s12 m5 col-content plain-element">
      <div class="row header">
        <div class="row searchbox-wrapper searchbox-long">
          <form @submit.prevent="submitQuery">
            <input class="form-control" id="searchbox" type="text" placeholder="Search for Document"
                   aria-label="Search for Document" v-model="searchQuery">
            <button class="btn-transparent" type="submit"><i class="fas fa-search search-icon"></i></button>
          </form>
        </div>
      </div>
      <div class="dashboard-cards">
        <div id="formError" class="row row-error text-center">
          <p class="error" v-if="error">{{ error }}</p>
          <p v-show="loadingDocuments">...loading...</p>
        </div>
        <div class="row row-documents">
          <div class="row plain-element row-table-functions">
            <div class="col s1 m3 l4 col-results plain-element left-align">
              <p class="resultCount" v-if="resultCount && filteredDocumentList.length > 0">{{ resultCount }}</p>
              <button v-if="resultCount && filteredDocumentList.length > 0" @click="csvExport()" class="btn btn-export">
                <i class="fas fa-file-download"></i>
              </button>
            </div>
            <div class="col s9 m6 l4 plain-element">
              <div v-if="documentList.length > 0" id="tableSearch" class="filter-wrapper">
                <input id="keywordFilter" type="text" placeholder="Keyword Filter" class="place-holder-center"
                       v-model="search"/>
              </div>
            </div>
            <div class="col s3 m3 l4 plain-element right-align">
              <button v-if="resultCount && filteredDocumentList.length > 0" v-show="next" @click="submitQuery"
                      class="btn btn-loading">
                Load More
              </button>
            </div>
          </div>


          <div v-for="document in filteredDocumentList" :key="document.id" class="row plain-element">
            <div class="row row-document">
              <div class="col s12 m10 l12 plain-element left-align">
                <div class="row row-meta-top">
                  <router-link :to="{ name: 'document-details', params: {id: document.id, stringQuery: searchQuery}}">
                    <div class="col s10 m9 l12 plain-element left-align col-meta-title">
                      <h6>{{ document.document_title| truncatechars(240) }} </h6>
                    </div>
                  </router-link>
                </div>
                <router-link :to="{ name: 'document-details', params: {id: document.id, stringQuery: searchQuery}}">
                  <div class="row row-meta-bottom">
                    <div class="col s2 m2 l2 plain-element col-image">
                      <img :src="'https://techcomms.s3-eu-west-1.amazonaws.com/static/img/brands/' + document.clean_brand + '.png'"
                           class="img img-document">
                    </div>
                    <div class="col s6 m3 l3 plain-element left-align">
                      <p>
                        <i v-if="getFileType(document.document_link) == 'viewer'" class="far fa-file-pdf"></i>
                        <i v-else class="far fa-file-alt"></i>
                        &nbsp; {{ document.document_number| truncatechars(30) }}
                      </p>
                    </div>
                    <div class="col s6 m3 l3 plain-element left-align">
                      <p><i class="far fa-bookmark"></i> &nbsp; {{ document.topics.length }} Topics</p>
                    </div>
                    <div class="col s12 m12 l4 plain-element left-align">
                      <p><i class="fas fa-cube"></i> &nbsp; {{ document.product.product_name| truncatechars(48) }}</p>
                    </div>
                  </div>
                </router-link>
              </div>
            </div>

          </div>
          <br>
          <div v-if="resultCount && filteredDocumentList.length > 0" class="row plain-element">
            <button v-show="next" @click="submitQuery" class="btn btn-loading">
              Load More
            </button>
          </div>
          <div v-if="resultCount && filteredDocumentList.length == 0" class="row plain-element">
            <h6>No results match search criteria</h6>
          </div>
        </div>
      </div>
    </div>
    <div class="col s12 m5 col-content plain-element">
      <div class="card card-description">
        <div class="row plain-element">
          <div class="col s6 m8 l12 plain-element">
            <div class="row plain-element left-align"><h3>02 MCL Tool 5.3 User Guide Section 1: Software Overview</h3>
              <div><a href="/brands/metasys" class="">
                <img src="https://techcomms.s3-eu-west-1.amazonaws.com/static/img/brands/metasys.png"
                     class="img responsive img-icon"></a><a href="/product/707" class="">
                <span class="product-name">MCL Tool</span></a></div>
            </div>
            <div class="row row-functions row-functions-long left-align">
              <a target="_blank" href="https://johnsoncontrols.fluidtopics.net/viewer/document/DMRsRzYkYZHiJ1fJvLm6Bw"
                 class="btn btn-document"><i class="fas fa-file-pdf"></i> Document in PDF </a>
            </div>
            <div class="row plain-element left-align">
              <div class="col s12 m12 l6 plain-element">
                <div class="row plain-element left-align">
                  <h6>Document Number: </h6>
                  <p>TD-2058</p></div>
                <div class="row plain-element left-align"><h6>Document Version: </h6>
                  <p>Not Specified</p></div>
                <div class="row plain-element left-align"><h6>Document Type: </h6>
                  <p>User Guide</p>
                </div>
                <div class="row plain-element left-align">
                  <h6>Date Created: </h6>
                  <p>2003-12-31</p>
                </div>
                <div class="row plain-element left-align">
                  <h6>Last Edition: </h6>
                  <p>2003-12-31</p>
                </div>
                <div class="row plain-element left-align">
                  <h6>Last Publication: </h6>
                  <p>2003-12-31</p>
                </div>
              </div>
              <div class="col s12 m12 l6 plain-element col-topics">
                <div class="row plain-element left-align">
                  <h6>Document Content:</h6>
                </div>
                <div class="row plain-element left-align">
                  <div class="col s4 m4 l5 plain-element left-align filter-wrapper">
                    <input id="contentFilter" type="text" placeholder="Content Filter">
                  </div>
                </div>
                <div class="row plain-element left-align">
                  <div class="row plain-element left-align">
                    <li><a target="_blank"
                           href="https://johnsoncontrols.fluidtopics.net/reader/IdBsjc3W0aHJOz~IWP9GRQ/FmR~yUOikHQI4O6ndyfUJQ"
                           class="topic-tier-2"> Configuration </a></li>
                  </div>
                </div>
                <div class="row plain-element left-align">
                  <div class="row plain-element left-align">
                    <ol><a target="_blank"
                           href="https://johnsoncontrols.fluidtopics.net/reader/IdBsjc3W0aHJOz~IWP9GRQ/NdHYvrLrd~vUbhdNg_kO6g"
                           class="topic-tier-3"> â–¸ Camera connections </a></ol>
                  </div>
                </div>
              </div>
              <!---->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>